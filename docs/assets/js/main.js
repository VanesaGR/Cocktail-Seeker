"use strict";const input=document.querySelector(".js-input"),btnSearch=document.querySelector(".js-search-btn"),btnReset=document.querySelector(".js-reset-btn"),listCocktails=document.querySelector(".js-ul-cocktails"),listFavorites=document.querySelector(".js-ul-favorites"),url="https://www.thecocktaildb.com/api/json/v1/1/search.php?s=";let listCocktailsData=[],listFavoritesData=[];function renderCocktails(t){listCocktails.innerHTML="";for(const e of t)e.photo?listCocktails.innerHTML+=`<li class="js-li-cocktail li-coktails" id="${e.id}"><h3>${e.name}</h3> <img src="${e.photo}" title="${e.name}" class="imgCocktail"/></li>`:listCocktails.innerHTML+=`<li class="js-li-cocktail li-cocktails" id="${e.id}"><h3>${e.name}</h3> <img src="\n./assets/images/default.png" title="${e.name}" class="imgCocktail"/></li>`;addEventToCocktail()}function fetchFunction(t){fetch(url+t).then(t=>t.json()).then(t=>{listCocktailsData=t.drinks.map(t=>({name:t.strDrink,photo:t.strDrinkThumb,id:t.idDrink})),renderCocktails(listCocktailsData)})}function handleClickBtn(t){t.preventDefault();fetchFunction(input.value.toLowerCase())}function handleResetBtn(t){t.preventDefault(),input.value="",localStorage.removeItem("favoriteCocktails")}function addEventToCocktail(){const t=document.querySelectorAll(".js-li-cocktail");for(const e of t)e.addEventListener("click",handleClick)}function renderFavorites(t){listFavorites.innerHTML="";for(const e of t)e.photo?listFavorites.innerHTML+=`<li class="js-li-fav selected" id="${e.idDrink}"><h3 class="selectedTitle">${e.name}</h3> <img src="${e.photo}" title="${e.name}" class="imgCocktail"/><img src="./assets/images/circulo-cruzado.png" class="close-icon js-close-icon"></li>`:listFavorites.innerHTML+=`<li class="js-li-fav selected" id="${e.idDrink}"><h3 class="selectedTitle">${e.name}</h3> <img src="\n./assets/images/default.png" title="${e.name}" class="imgCocktail"/><img src="./assets/images/circulo-cruzado.png" class="close-icon js-close-icon"></li>`;addEventToIcon()}function handleClick(t){const e=t.currentTarget.id;t.currentTarget.classList.toggle("rightCocktails");const i=listCocktailsData.find(t=>t.id===e),s=listFavoritesData.findIndex(t=>t.id===e);-1===s?(listFavoritesData.push(i),localStorage.setItem("favoriteCocktails",JSON.stringify(listFavoritesData)),localStorage.getItem("favoriteCocktails")):(listFavoritesData.splice(s,1),localStorage.setItem("favoriteCocktails",JSON.stringify(listFavoritesData)),localStorage.getItem("favoriteCocktails")),renderFavorites(listFavoritesData)}function closeFavs(t){const e=t.currentTarget.id,i=listFavoritesData.findIndex(t=>t.id===e);listFavoritesData.splice(i,1),renderFavorites(listFavoritesData),renderCocktails(listCocktailsData),localStorage.removeItem("cocktails")}function addEventToIcon(){const t=document.querySelectorAll(".js-close-icon");for(const e of t)e.addEventListener("click",closeFavs)}fetchFunction("margarita"),window.onload=function(){const t=JSON.parse(localStorage.getItem("favoriteCocktails"))||[];listFavoritesData=t,renderFavorites(t)},btnSearch.addEventListener("click",handleClickBtn),btnReset.addEventListener("click",handleResetBtn);